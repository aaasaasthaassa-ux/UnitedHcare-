{% extends 'base.html' %}
{% load static %}

{% block title %}Purchase {{ purchase.order_number }} - UH Care{% endblock %}

{% block extra_css %}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-8 sm:py-12 px-4 sm:px-6 lg:px-8">
  <!-- Page Header -->
  <h1 class="text-3xl font-bold text-uh-blue-700 mb-6">
    Purchase Details — Order #{{ purchase.order_number }}
  </h1>

  <!-- Main Content Card -->
  <div class="bg-white rounded-lg shadow-xl overflow-hidden">
    <div class="p-6 sm:p-8">
      <!-- Card Header -->
      <div class="flex flex-col sm:flex-row justify-between sm:items-start gap-4">
        <div class="min-w-0">
          <h2 class="text-2xl font-semibold text-gray-900">{{ purchase.equipment.name }}</h2>
          <p class="text-gray-600 mt-1">Ordered on {{ purchase.created_at|date:"F d, Y" }}</p>
        </div>
        <div class="text-left sm:text-right flex-shrink-0">
          <div class="text-2xl font-bold text-uh-green-600">रू {{ purchase.total_amount }}</div>

          <!-- Branded Status Badge -->
          {% if purchase.status == 'completed' or purchase.status == 'delivered' %}
            <span class="mt-1 py-1 px-3 rounded-full text-xs font-semibold bg-uh-green-100 text-uh-green-600">
              {{ purchase.get_status_display }}
            </span>
          {% elif purchase.status == 'pending' %}
            <span class="mt-1 py-1 px-3 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700">
              {{ purchase.get_status_display }}
            </span>
          {% elif purchase.status == 'cancelled' %}
            <span class="mt-1 py-1 px-3 rounded-full text-xs font-semibold bg-uh-red-100 text-uh-red-600">
              {{ purchase.get_status_display }}
            </span>
          {% else %}
            <span class="mt-1 py-1 px-3 rounded-full text-xs font-semibold bg-uh-blue-100 text-uh-blue-700">
              {{ purchase.get_status_display }}
            </span>
          {% endif %}
        </div>
      </div>

      <hr class="my-6 border-t border-gray-200" />

      <!-- Details Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
        <div>
          <span class="block text-sm font-medium text-gray-500">Quantity</span>
          <span class="mt-1 block text-base font-semibold text-gray-900">{{ purchase.quantity }}</span>
        </div>
        <div>
          <span class="block text-sm font-medium text-gray-500">Delivery Phone</span>
          <span class="mt-1 block text-base font-semibold text-gray-900">{{ purchase.delivery_phone }}</span>
        </div>
        <div class="md:col-span-2">
          <span class="block text-sm font-medium text-gray-500">Delivery Address</span>
          <div class="mt-1 block text-base font-semibold text-gray-900 leading-relaxed">
            {{ purchase.delivery_address|linebreaksbr }}
          </div>
        </div>
        {% if purchase.customer_notes %}
        <div class="md:col-span-2">
          <span class="block text-sm font-medium text-gray-500">Notes</span>
          <div class="mt-1 block text-base text-gray-800 bg-gray-50 p-3 rounded-md">
            {{ purchase.customer_notes }}
          </div>
        </div>
        {% endif %}
      </div>

      <!-- Footer Action -->
      <div class="mt-8 pt-6 border-t border-gray-200">
        <a href="{% url 'equipment:my_purchases' %}" class="btn btn-secondary">
          &larr; Back to all purchases
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}{% endblock %}